setwd("/media/checo/7B2C787106E895ED/BID2012")
install.packages("rgeos")
library(rgeos)
?`SpatialPolygons
library(sp)
library(sp)
??SpatialPolygons
??version
R.Version()
setwd("/media/checo/7B2C787106E895ED/PROY.CONACYT")
load("/media/checo/7B2C787106E895ED/PROY.CONACYT/ConchosPRE_mm_12Struct.RData")
View(mdd)
n2 <- nrow(mdd)/2
n2
source('/media/checo/7B2C787106E895ED/PROY.CONACYT/CuentaSignos.R')
rr0 <- CuentaSignosV(head(mdd$spi,n2))
rr1 <- CuentaSignosV(tail(mdd$spi,n2))
rr0[[2]][,summary(N)]
rr1[[2]][,summary(N)]
?boxplot
boxplot(list(rr0[[2]]$N, rr1[[2]]$N))
boxplot(list(rr0[[2]]$N, rr1[[2]]$N), names=c("1er Subperíodo", "2o Subperíodo"))
rr0
a0 <- rr0[[2]]$sgn*rr0[[2]]$N
a1 <- rr1[[2]]$sgn*rr1[[2]]$N
plot(a0,type = "l")
abline(h=0)
lines(a1, col="red")
plot(a1,type = "l", col="red")
abline(h=0)
lines(a0)
mdd
lapply(mdd, class)
as.Date.character(mdd$Fecha)
head(mdd)
rr0 <- CuentaSignosV(head(mdd,n2),"spi")
rr1 <- CuentaSignosV(tail(mdd,n2),"spi")
rr0 <- CuentaSignos(head(mdd,n2),"spi")
rr0 <- CuentaSignos(setDT(head(mdd,n2)),"spi")
rr1 <- CuentaSignos(setDT(tail(mdd,n2)),"spi")
rr0
lapply(rr0, class)
lapply(rr0[[1]], class)
View(rr0)
View(rr0[[1]])
rr0[[2]]
?Reduce
?cumsum
rr0[[2]]
cumsum(rr0[[2]]$N)
cumsum(rr1[[2]]$N)
rr0[,mes:=cumsum(N)]
rr0[[2]][,mes:=cumsum(N)]
rr1[[2]][,mes:=cumsum(N)]
rr0[[2]]
rr0 <- CuentaSignos(setDT(head(mdd,n2)),"spi")
rr1 <- CuentaSignos(setDT(tail(mdd,n2)),"spi")
rr0[[2]][,.(mes:=cumsum(N)), sN:=sgn*N]
rr0[[2]][,c("mes", "sN") := .(cumsum(N), sgn*N)]
rr1[[2]][,c("mes", "sN") := .(cumsum(N), sgn*N)]
rr0[[2]]
plot(rr1[[2]][,c("mes","sN")], type="l")
lines(rr1[[2]][,c("mes","sN")], col="red")
plot(rr1[[2]][,c("mes","sN")], type="l")
lines(rr0[[2]][,c("mes","sN")], col="red")
plot(rr1[[2]][,c("mes","sN")], type="l", col="red")
lines(rr0[[2]][,c("mes","sN")])
abline(h=0)
rr0 <- CuentaSignos(setDT(head(mdd,n2)),"spi")
rr1 <- CuentaSignos(setDT(tail(mdd,n2)),"spi")
rr0[[2]][,c("meses", "sN") := .(cumsum(N), sgn*N)]
rr1[[2]][,c("meses", "sN") := .(cumsum(N), sgn*N)]
plot(rr1[[2]][,c("mes","sN")], type="l", col="red")
lines(rr0[[2]][,c("mes","sN")])
abline(h=0)
plot(rr1[[2]][,c("meses","sN")], type="l", col="red")
lines(rr0[[2]][,c("meses","sN")])
abline(h=0)
plot(rr1[[2]][,c("meses","sN")], type="l", col="red")
abline(h=0)
lines(rr0[[2]][,c("meses","sN")], lty=2)
grid()
plot(rr1[[2]][,c("meses","sN")], type="l", col="red", ylab="ancho")
lines(rr0[[2]][,c("meses","sN")], lty=2)
abline(h=0)
grid()
plot(rr1[[2]][,c("meses","sN")], type="l", col="red", ylab="ancho y signo")
lines(rr0[[2]][,c("meses","sN")], lty=2)
abline(h=0)
grid()
plot(rr1[[2]][,c("meses","sN")], type="l", col="red", ylab="ancho y signo", xlim=c(0,n2), ylim=range(rr1[[2]]$sN)+c(0,-10))
range(rr1[[2]]$sN)
plot(rr1[[2]][,c("meses","sN")], type="l", col="red", ylab="ancho y signo", xlim=c(0,n2), ylim=range(rr1[[2]]$sN)+c(-10,0))
lines(rr0[[2]][,c("meses","sN")], lty=2)
abline(h=0)
grid()
?legend
legend("bottomright", c("Subperíodo 1", "Subperíodo2"), col=c("black", "red"), lty=c(2,1))
plot(rr1[[2]][,c("meses","sN")], type="l", col="red", ylab="ancho y signo", xlim=c(0,n2), ylim=range(rr1[[2]]$sN)+c(-10,0))
lines(rr0[[2]][,c("meses","sN")], lty=2)
abline(h=0)
grid()
legend("bottomright", c("Subperíodo 1", "Subperíodo 2"), col=c("black", "red"), lty=c(2,1))
boxplot(list(rr0[[2]]$N, rr1[[2]]$N), names=c("1er Subperíodo", "2o Subperíodo"))
boxplot(list(rr0[[2]]$N, rr1[[2]]$N), names=c("1er Subperíodo", "2o Subperíodo"), col = c("black", "red"))
?boxplot
boxplot(list(rr0[[2]]$N, rr1[[2]]$N), names=c("1er Subperíodo", "2o Subperíodo"), border = c("black", "red"))
boxplot(list(rr0[[2]]$N, rr1[[2]]$N), names=c("Subperíodo 1", "Subperíodo 2"), border = c("black", "red"))
boxplot(list(rr0[[2]]$N, rr1[[2]]$N), names=c("Subperíodo 1", "Subperíodo 2"),
border = c("black", "red"), main="Signo Indistinto")
boxplot(list(rr0[[2]][sgn > 0, N], rr1[[2]][sgn > 0, N]), names=c("Subperíodo 1", "Subperíodo 2"),
border = c("black", "red"), main="Signo Positivo")
boxplot(list(rr0[[2]][sgn < 0, N], rr1[[2]][sgn < 0, N]), names=c("Subperíodo 1", "Subperíodo 2"),
border = c("black", "red"), main="Signo Negativo")
rr0[[2]][sgn < 0, N]
rr1[[2]][sgn < 0, N]
bb <- boxplot(list(rr0[[2]][sgn < 0, N], rr1[[2]][sgn < 0, N]), names=c("Subperíodo 1", "Subperíodo 2"),
border = c("black", "red"), main="Signo Negativo")
bb
summary(rr0[[2]][sgn < 0, N])
summary(rr1[[2]][sgn < 0, N])
N.pos.0 <- rr0[[2]][sgn > 0, N]
N.pos.1 <- rr1[[2]][sgn > 0, N]
N.neg.0 <- rr0[[2]][sgn < 0, N]
N.neg.1 <- rr1[[2]][sgn < 0, N]
N.pos.0
N.pos.1
N.neg.0
N.neg.1
boxplot(list(N.pos.0, N.pos.1), names=c("Subperíodo 1", "Subperíodo 2"),
border = c("black", "red"), main="Signo Positivo")
boxplot(list(N.neg.0, N.neg.1), names=c("Subperíodo 1", "Subperíodo 2"),
border = c("black", "red"), main="Signo Negativo")
df.pos <- rbind(data.frame(N=N.pos.0, per=1), data.frame(N=N.pos.1, per=2))
df.neg <- rbind(data.frame(N=N.neg.0, per=1), data.frame(N=N.neg.1, per=2))
df.pos
df.neg
ii <- order(df.pos, decreasing = T)
ii0 <- order(df.pos, decreasing = T)
rm(ii)
rm(ii0)
ii.pos <- order(df.pos, decreasing = T)
ii.neg <- order(df.neg, decreasing = T)
df.pos.ord <- df.pos[ii.pos,]
df.neg.ord <- df.neg[ii.neg,]
df.pos.ord
ii.pos <- order(df.pos$N, decreasing = T)
ii.neg <- order(df.neg$N, decreasing = T)
df.pos.ord <- df.pos[ii.pos,]
df.neg.ord <- df.neg[ii.neg,]
df.pos.ord
df.neg.ord
df.pos <- rbind(data.frame(N=N.pos.0, Subper=1), data.frame(N=N.pos.1, Subper=2))
df.neg <- rbind(data.frame(N=N.neg.0, Subper=1), data.frame(N=N.neg.1, Subper=2))
ii.pos <- order(df.pos$N, decreasing = T)
ii.neg <- order(df.neg$N, decreasing = T)
df.pos.ord <- df.pos[ii.pos,]
df.neg.ord <- df.neg[ii.neg,]
df.pos.ord
df.neg.ord
?write.csv
write.csv(df.pos.ord, "CuentaSignosPOS.csv")
write.csv(df.neg.ord, "CuentaSignosNEG.csv")
?sample
?ecdf
boxplot(list(rr0[[2]]$N, rr1[[2]]$N), names=c("Subperíodo 1", "Subperíodo 2"),
border = c("black", "red"), main="Anchos con signo Indistinto")
